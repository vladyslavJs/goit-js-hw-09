{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-form.js"],"sourcesContent":["'use strict';\n\nconst feedbackForm = document.querySelector('.feedback-form');\n\nconst localStorageKey = 'feedback-form-state';\n\nconst input = feedbackForm.elements.email;\nconst textarea = feedbackForm.elements.message;\n\nconst savedState = localStorage.getItem(localStorageKey);\n\nif (savedState ?? false) {\n  try {\n    const parsedState = JSON.parse(savedState);\n\n    if (parsedState.email !== undefined && parsedState.message !== undefined) {\n      input.value = parsedState.email;\n      textarea.value = parsedState.message;\n    }\n  } catch (error) {\n    console.log(error.name);\n    console.log(error.message);\n  }\n}\n\nfeedbackForm.addEventListener('input', () => {\n  const feedback = {\n    email: input.value.trim(),\n    message: textarea.value.trim(),\n  };\n\n  localStorage.setItem(localStorageKey, JSON.stringify(feedback));\n});\n\nfeedbackForm.addEventListener('submit', e => {\n  e.preventDefault();\n\n  if (input.value.trim() === '' || textarea.value.trim() === '') {\n    alert('You need to write a message!');\n    return;\n  }\n\n  localStorage.removeItem(localStorageKey);\n  console.log({\n    email: input.value.trim(),\n    message: textarea.value.trim(),\n  });\n  feedbackForm.reset();\n});"],"names":["feedbackForm","localStorageKey","input","textarea","savedState","parsedState","error","feedback"],"mappings":"oDAEA,MAAMA,EAAe,SAAS,cAAc,gBAAgB,EAEtDC,EAAkB,sBAElBC,EAAQF,EAAa,SAAS,MAC9BG,EAAWH,EAAa,SAAS,QAEjCI,EAAa,aAAa,QAAQH,CAAe,EAEvD,GAAIG,GAAc,GAChB,GAAI,CACF,MAAMC,EAAc,KAAK,MAAMD,CAAU,EAErCC,EAAY,QAAU,QAAaA,EAAY,UAAY,SAC7DH,EAAM,MAAQG,EAAY,MAC1BF,EAAS,MAAQE,EAAY,QAEhC,OAAQC,EAAP,CACA,QAAQ,IAAIA,EAAM,IAAI,EACtB,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CAGHN,EAAa,iBAAiB,QAAS,IAAM,CAC3C,MAAMO,EAAW,CACf,MAAOL,EAAM,MAAM,KAAM,EACzB,QAASC,EAAS,MAAM,KAAM,CAClC,EAEE,aAAa,QAAQF,EAAiB,KAAK,UAAUM,CAAQ,CAAC,CAChE,CAAC,EAEDP,EAAa,iBAAiB,SAAU,GAAK,CAG3C,GAFA,EAAE,eAAc,EAEZE,EAAM,MAAM,SAAW,IAAMC,EAAS,MAAM,KAAM,IAAK,GAAI,CAC7D,MAAM,8BAA8B,EACpC,MACD,CAED,aAAa,WAAWF,CAAe,EACvC,QAAQ,IAAI,CACV,MAAOC,EAAM,MAAM,KAAM,EACzB,QAASC,EAAS,MAAM,KAAM,CAClC,CAAG,EACDH,EAAa,MAAK,CACpB,CAAC"}